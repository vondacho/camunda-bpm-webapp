<form class="search-field"
      ng-submit="createSearch()"
      ng-class="{'has-search': searches.length}">

  <div class="form-container search-container"
       ng-class="{'has-icon': !!mode}">
    <span ng-if="mode"
          class="search-type glyphicon"
          ng-class="'glyphicon-' + mode"></span>
    <span cam-widget-search-pill
          ng-repeat="search in searches"
          extended="search.extended"
          basic="search.basic"
          allow-dates="search.allowDates"
          enforce-dates="search.enforceDates"
          valid="search.valid"
          name="search.name"
          potential-names="search.potentialNames"
          type="search.type"
          operator="search.operator"
          value="search.value"
          options="search.options"
          invalid-text="{{ translations.invalid }}"
          delete-text="{{ translations.deleteSearch }}"
          on-change="handleChange($index, field, before, value, $event)"
          on-delete="deleteSearch($index)"></span>
    <input class="form-control main-field"
           type="text"
           ng-model="inputQuery"
           ng-keydown="onKeydown($event)"
           typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"
           typeahead-on-select="createSearch($item)"
           instant-typeahead />
  </div>
</form>
